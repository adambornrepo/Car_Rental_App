<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
    <header class="p-3 text-bg-dark shadow">
        <div class="px-3">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <a href="/static" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" fill="currentColor" class="bi bi-ev-front"
                        viewBox="0 0 16 16">
                        <path
                            d="M9.354 4.243a.188.188 0 0 0-.085-.218.186.186 0 0 0-.23.034L6.051 7.246a.188.188 0 0 0 .136.316h1.241l-.673 2.195a.188.188 0 0 0 .085.218c.075.043.17.03.23-.034l2.88-3.187a.188.188 0 0 0-.137-.316H8.572l.782-2.195Z" />
                        <path
                            d="M4.819 2A2.5 2.5 0 0 0 2.52 3.515l-.792 1.848a.807.807 0 0 1-.38.404c-.5.25-.855.715-.965 1.262L.05 8.708a2.5 2.5 0 0 0-.049.49v.413c0 .814.39 1.543 1 1.997V13.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1.338c1.292.048 2.745.088 4 .088s2.708-.04 4-.088V13.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1.892c.61-.454 1-1.183 1-1.997v-.413c0-.165-.016-.329-.049-.49l-.335-1.68a1.807 1.807 0 0 0-.964-1.261.807.807 0 0 1-.381-.404l-.792-1.848A2.5 2.5 0 0 0 11.181 2H4.82ZM3.44 3.91A1.5 1.5 0 0 1 4.82 3h6.362a1.5 1.5 0 0 1 1.379.91l.792 1.847a1.8 1.8 0 0 0 .853.904c.222.112.381.32.43.564l.336 1.679c.02.097.029.195.029.294v.413a1.48 1.48 0 0 1-1.408 1.484c-1.555.07-3.786.155-5.592.155-1.806 0-4.037-.084-5.592-.155A1.479 1.479 0 0 1 1 9.611v-.413c0-.099.01-.197.03-.294l.335-1.68a.807.807 0 0 1 .43-.563c.383-.19.685-.511.853-.904l.792-1.848Z" />
                    </svg>
                    <span class="fs-3 mx-3"
                        style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">
                        Rent a Car
                    </span>
                </a>

                <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                    <!--Ekstra Link İstenirse buraya konulabilir-->
                </ul>

                <div class="text-end">
                    <p class="fs-5 mt-2">Hoşgeldiniz <span id="welcome"></span></p>
                </div>
            </div>
        </div>
    </header>

    <div class="container py-4 border mt-4 rounded-2 shadow">
        <nav>
            <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist">
                <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home"
                    type="button" role="tab" aria-controls="nav-home" aria-selected="true">Profil</button>
                <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile"
                    type="button" role="tab" aria-controls="nav-profile" aria-selected="false"
                    tabindex="-1">Araçlar</button>
                <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact"
                    type="button" role="tab" aria-controls="nav-contact" aria-selected="false"
                    tabindex="-1">Geçmiş İşlemler</button>
            </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade active show" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                <h1 class="text-center">Kişisel Bilgiler</h1>
                <hr>
                <form action="">
                    <div class="row mt-4">
                        <div class="col-md-4 p-3">
                            <label for="name" class="mb-2">İsim</label>
                            <input type="text" class="form-control mb-3" id="name"  >
                        </div>
                        <div class="col-md-4 p-3 text-center">
                            <label for="surname" class="mb-2">Soyisim</label>
                            <input type="text" class="form-control mb-3 text-center" id="surname">
                        </div>
                        <div class="col-md-4 p-3 text-end">
                            <label for="phone" class="mb-2">Telefon</label>
                            <input type="text" class="form-control mb-3 text-end" id="phone"  disabled>
                        </div>
                        <hr>
                        <div class="col-md-4 p-3">
                            <label for="username" class="mb-2">Kullanıcı Adı</label>
                            <input type="text" class="form-control mb-3" id="username"  >
                        </div>
                        <div class="col-md-4 p-3 text-end">
                            <label for="license-year" class="mb-2">Doğum Günü</label>
                            <input type="date" class="form-control mb-3 text-center" id="birthdate"  disabled>
                        </div>
                        <div class="col-md-4 p-3 text-end">
                            <label for="license-year" class="mb-2">Ehliyet Yılı</label>
                            <input type="date" class="form-control mb-3 text-center" id="license-year"  disabled>
                        </div>
                        <hr>
                        <div class="col-12 text-center mt-2">
                            <h4 class="m-0">Şifre Değiştir</h4>
                        </div>
                        <div class="col-md-6 p-3">
                            <label for="old-pass" class="mb-2">Mevcut Şifre</label>
                            <input type="password" class="form-control mb-2" id="old-pass" placeholder="Current Password">
                        </div>
                        <div class="col-md-6 p-3 text-end">
                            <label for="new-pass" class="mb-2">Yeni Şifre</label>
                            <input type="password" class="form-control mb-2" id="new-pass" placeholder="Current Password">
                        </div>
                        <hr>
                        <div class="col-md-4"></div>
                        <div class="col-md-4 p-3 text-center">
                            <button type="submit" class="btn btn-lg btn-success">Kaydet</button>
                        </div>
                        <div class="col-md-4"></div>
                        <div class="col-12 text-center mt-3">
                            <input type="checkbox" id="onay" class=""> Hesabınızı Silmek İstediğinize Emin Misiniz?
                        </div>
                        <div class="col-12 text-center mt-2">
                            <button type="submit" class="btn btn-danger btn-sm">Hesabı Sil</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                <h1 class="text-center">ARAÇLAR</h1>
                <div class="row p-3 shadow m-3 rounded-3">
                    <div class="col-md-3">
                        <img src="images/1.jpg" alt="" height="100px" class="w-100 img-fluid rounded-4">
                    </div>
                    <div class="col-md-3">
                        <p class="m-1"><b>Model Yılı:</b> 2018</p>
                        <p class="m-1"><b>Yakıt Tipi:</b> Benzin</p>
                        <p class="m-1"><b>Araç KM'si:</b> 65.000</p>
                    </div>
                    <div class="col-md-3">
                        <p class="m-1"><b>Araç Tipi:</b> Sedan</p>
                        <p class="m-1"><b>Araç Rengi:</b> Mat Gri</p>
                        <p class="m-1"><b>Koltuk Sayısı:</b> 5</p>
                    </div>
                    <div class="col-md-3 text-center">
                        <h2>Audi A3</h2>
                        <p class="m-1"><b>Plaka Numarası:</b> 35 BT 2659</p>
                        <p class="m-0"><b>Ücret:</b>1000₺/Gün<sub></sub></p>
                    </div>
                    <div class="accordion mt-4" >
                        <div class="accordion-item shadow">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed bg-warning fs-4" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <b>ARACI KİRALA</b>
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse shadow"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="row w-100">
                                        <div class="col-md-4">
                                            <label for="start-date" class="mb-2">Başlangıç Tarihi</label>
                                            <input type="date" id="start-date" value="2023-04-06" class="form-control mb-2" disabled>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="end-date" class="mb-2">Bitiş Tarihi</label>
                                            <input type="date" id="end-date" class="form-control mb-2">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="total-price" class="mb-2">Toplam Ücret</label>
                                            <input type="number" id="total-price" class="form-control mb-2" value="1000">
                                        </div>
                                        <div class="col-12 text-center mt-2">
                                            <button type="submit" class="btn btn-warning btn-lg">Kirala</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row p-3 shadow m-3 rounded-3 mt-5">
                    <div class="col-md-3">
                        <img src="images/1.jpg" alt="" height="100px" class="w-100 img-fluid rounded-4">
                    </div>
                    <div class="col-md-3">
                        <p class="m-1"><b>Lokasyon:</b> Kartal/İstanbul</p>
                        <p class="m-1"><b>Yakıt Tipi:</b> Benzin</p>
                        <p class="m-1"><b>Araç KM'si:</b> 65.000</p>
                        <p class="m-1"><b>Uygunluk Durumu:</b> Uygun</p>
                    </div>
                    <div class="col-md-3">
                        <p class="m-1"><b>Araç Tipi:</b> Sedan</p>
                        <p class="m-1"><b>Araç Rengi:</b> Mat Gri</p>
                        <p class="m-1"><b>Koltuk Sayısı:</b> 5</p>
                    </div>
                    <div class="col-md-3 text-center">
                        <h2>Audi A3</h2>
                        <p class="m-1"><b>Model Yılı:</b> 2018</p>
                        <p class="m-1"><b>Plaka Numarası:</b> 35 BT 2659</p>
                        <p class="m-0"><b>Ücret:</b>1000₺/Gün<sub></sub></p>
                    </div>
                    <div class="accordion mt-4" id="accordionExample">
                        <div class="accordion-item shadow">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed bg-warning fs-4" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <b>ARACI KİRALA</b>
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse shadow"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="row w-100">
                                        <div class="col-md-4">
                                            <label for="start-date" class="mb-2">Başlangıç Tarihi</label>
                                            <input type="date" id="start-date" value="2023-04-06" class="form-control mb-2" disabled>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="end-date" class="mb-2">Bitiş Tarihi</label>
                                            <input type="date" id="end-date" class="form-control mb-2">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="total-price" class="mb-2">Toplam Ücret</label>
                                            <input type="number" id="total-price" class="form-control mb-2" value="1000">
                                        </div>
                                        <div class="col-12 text-center mt-2">
                                            <button type="submit" class="btn btn-warning btn-lg">Kirala</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row p-3 shadow m-3 rounded-3 mt-5">
                    <div class="col-md-3">
                        <img src="images/1.jpg" alt="" height="100px" class="w-100 img-fluid rounded-4">
                    </div>
                    <div class="col-md-3">
                        <p class="m-1"><b>Lokasyon:</b> Kartal/İstanbul</p>
                        <p class="m-1"><b>Yakıt Tipi:</b> Benzin</p>
                        <p class="m-1"><b>Araç KM'si:</b> 65.000</p>
                        <p class="m-1"><b>Uygunluk Durumu:</b> Uygun</p>
                    </div>
                    <div class="col-md-3">
                        <p class="m-1"><b>Araç Tipi:</b> Sedan</p>
                        <p class="m-1"><b>Araç Rengi:</b> Mat Gri</p>
                        <p class="m-1"><b>Koltuk Sayısı:</b> 5</p>
                    </div>
                    <div class="col-md-3 text-center">
                        <h2>Audi A3</h2>
                        <p class="m-1"><b>Model Yılı:</b> 2018</p>
                        <p class="m-1"><b>Plaka Numarası:</b> 35 BT 2659</p>
                        <p class="m-0"><b>Ücret:</b>1000₺/Gün<sub></sub></p>
                    </div>
                    <div class="accordion mt-4" id="accordionExample">
                        <div class="accordion-item shadow">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed bg-warning fs-4" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <b>ARACI KİRALA</b>
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse shadow"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="row w-100">
                                        <div class="col-md-4">
                                            <label for="start-date" class="mb-2">Başlangıç Tarihi</label>
                                            <input type="date" id="start-date" value="2023-04-06" class="form-control mb-2" disabled>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="end-date" class="mb-2">Bitiş Tarihi</label>
                                            <input type="date" id="end-date" class="form-control mb-2">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="total-price" class="mb-2">Toplam Ücret</label>
                                            <input type="number" id="total-price" class="form-control mb-2" value="1000">
                                        </div>
                                        <div class="col-12 text-center mt-2">
                                            <button type="submit" class="btn btn-warning btn-lg">Kirala</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
                <h1 class="text-center">Geçmiş İşlemler</h1>
                <div class="p-3 w-100">
                    <div class="row shadow mx-2 mt-3">
                        <div class="col-md-4 text-center p-3">
                            <p><b>Marka Model:</b> Audi A3</p>
                            <p class="m-0"><b>Plaka Numarası:</b> 34 A3 3434</p>
                        </div>
                        <div class="col-md-4 text-center p-3">
                            <p><b>Kiralama Tarihi:</b> 04-03-2023</p>
                            <p class="m-0"><b>Teslim Tarihi:</b> -</p>
                        </div>
                        <div class="col-md-4 text-center p-3">
                            <p><b>Kiralama Durumu:</b> Aktif</p>
                            <p class="m-0"><b>Toplam Ücret:</b> 10235₺</p>
                        </div>
                    </div>
                    <div class="row shadow mx-2 mt-5">
                        <div class="col-md-4 text-center p-3">
                            <p><b>Marka Model:</b> Audi A3</p>
                            <p class="m-0"><b>Plaka Numarası:</b> 34 A3 3434</p>
                        </div>
                        <div class="col-md-4 text-center p-3">
                            <p><b>Kiralama Tarihi:</b> 04-03-2023</p>
                            <p class="m-0"><b>Teslim Tarihi:</b> -</p>
                        </div>
                        <div class="col-md-4 text-center p-3">
                            <p><b>Kiralama Durumu:</b> Aktif</p>
                            <p class="m-0"><b>Toplam Ücret:</b> 10235₺</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
            integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            $('#welcome').text(localStorage.getItem("username"));

            /*
            $.ajax({
                method: "GET",
                url: "/per/" + localStorage.getItem("phoneNumber"),
                contentType: "application/json",
                success: function(response) {
                    console.log(response);
                    $('#name').value(response.getItem("name"));
                    $('#surname').value(response.getItem("lastname"));
                    $('#phone').value(response.getItem("phoneNumber"));
                    $('#username').value(response.getItem("username"));
                    $('#birthdate').value(response.getItem("bithdate"));
                    $('#license-year').value(response.getItem("licenseYear"));
                }
            });

            */

              // Profil tabının butonunu seçin
        const profilButton = document.getElementById('nav-home-tab');

        // Profil tabının butonuna tıklama olayını ekle
        profilButton.addEventListener('click', () => {
        // GET isteği yapmak için AJAX kullanın
        fetch('/per/'+localStorage.getItem("phoneNumber"))
            .then(response => response.json())
            .then(data => {
            // GET isteği başarılı olduğunda yapılacak işlemler
            // Verileri form bileşenlerine ata
            document.getElementById('name').value = data.name;
            document.getElementById('surname').value = data.surname;
            document.getElementById('phone').value = data.phone;
            document.getElementById('username').value = data.username;
            document.getElementById('birthdate').value = data.birthdate;
            document.getElementById('license-year').value = data.licenseYear;
            })
            .catch(error => {
            // GET isteği başarısız olduğunda yapılacak işlemler
            console.error(error);
            });
    });
            //Bu son


        });
    </script>
</body>

</html>